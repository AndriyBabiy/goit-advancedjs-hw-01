{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Player from \"@vimeo/player\";\nimport throttle from \"lodash.throttle\";\n\nconst iframe = document.querySelector('iframe');\nconst player = new Player(iframe);\nconst LS_Key = 'videoplayer-current-time';\n\nconst onPlay = function(data) {\n  // data is an object containing properties specific to that event\n  player.setCurrentTime(localStorage.getItem(LS_Key)).then(function(seconds) {\n    // seconds = the actual time that the player seeked to\n  }).catch(function(error) {\n      switch (error.name) {\n          case 'RangeError':\n              // the time was less than 0 or greater than the videos duration\n              break;\n\n          default:\n              // some other error occurred\n              break;\n      }\n  });\n};\n\nplayer.on('play', onPlay);\n\nconst onTimeUpdate = function(data) {\n  // data is an object containing properties specific to that event\n  player.getCurrentTime().then(function(seconds) {\n    // seconds = the current playback position\n    localStorage.setItem(LS_Key, seconds);\n  }).catch(function(error) {\n      // an error occurred\n  });\n};\n\nplayer.on('timeupdate', throttle(onTimeUpdate, 1000));\n"],"names":["iframe","player","Player","LS_Key","onPlay","data","seconds","error","onTimeUpdate","throttle"],"mappings":"+IAGA,MAAMA,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAS,IAAIC,EAAOF,CAAM,EAC1BG,EAAS,2BAETC,EAAS,SAASC,EAAM,CAE5BJ,EAAO,eAAe,aAAa,QAAQE,CAAM,CAAC,EAAE,KAAK,SAASG,EAAS,CAE7E,CAAG,EAAE,MAAM,SAASC,EAAO,CACrB,OAAQA,EAAM,KAAI,CAQjB,CACP,CAAG,CACH,EAEAN,EAAO,GAAG,OAAQG,CAAM,EAExB,MAAMI,EAAe,SAASH,EAAM,CAElCJ,EAAO,eAAc,EAAG,KAAK,SAASK,EAAS,CAE7C,aAAa,QAAQH,EAAQG,CAAO,CACxC,CAAG,EAAE,MAAM,SAASC,EAAO,CAE3B,CAAG,CACH,EAEAN,EAAO,GAAG,aAAcQ,EAASD,EAAc,GAAI,CAAC"}